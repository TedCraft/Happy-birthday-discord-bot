-- ---------------------------------------------------
--
-- SQL script generated by Red Expert.
-- Generated 8-Oct-2021 22:54:44
--
-- ---------------------------------------------------
--
-- Program:      C:\Users\User\Desktop\discord-bot\db__init.sql
-- Description:  SQL create tables script.
-- Schema:       
-- Database:     RedDatabase 3.0 (e45cfd8455ee7977a213f6c8552e0656e8f33735)
--
-- ---------------------------------------------------


CREATE TABLE BAD_WORDS (
    SERVER_ID INTEGER NOT NULL,
    WORD VARCHAR NOT NULL,
    CONSTRAINT FK_BWS_SERVER FOREIGN KEY (SERVER_ID) REFERENCES SERVER (SERVER_ID)
);

CREATE TABLE COMMANDS (
    SERVER_ID INTEGER NOT NULL,
    COMMAND VARCHAR NOT NULL,
    SONG_URL VARCHAR,
    IMAGE_URL VARCHAR,
    TEXT VARCHAR,
    CONSTRAINT FK_COMMANDS_SERVER FOREIGN KEY (SERVER_ID) REFERENCES SERVER (SERVER_ID)
);

CREATE TABLE MUSIC_QUEUE (
    SERVER_ID INTEGER NOT NULL,
    TITLE VARCHAR NOT NULL,
    URL VARCHAR NOT NULL,
    REQUEST_USER VARCHAR NOT NULL,
    THUMBNAIL_URL VARCHAR NOT NULL,
    "LENGTH" INTEGER NOT NULL,
    CONSTRAINT FK_QUEUE_SERVER FOREIGN KEY (SERVER_ID) REFERENCES SERVER (SERVER_ID)
);

CREATE TABLE SERVER (
    SERVER_ID INTEGER NOT NULL,
    BIRTHDAY_ROLE INTEGER,
    RULES VARCHAR,
    INFO VARCHAR,
    CONSTRAINT PK_SERVER PRIMARY KEY (SERVER_ID)
);

CREATE TABLE SERVER_USERS (
    SERVER_ID INTEGER NOT NULL,
    USER_ID INTEGER NOT NULL,
    SERVER_MESSAGE_COUNT BIGINT NOT NULL,
    CONSTRAINT FK_SERVER_USERS FOREIGN KEY (SERVER_ID) REFERENCES SERVER (SERVER_ID),
    CONSTRAINT FK_USER_SERVERS FOREIGN KEY (USER_ID) REFERENCES "USER" (USER_ID)
);

CREATE TABLE "USER" (
    USER_ID INTEGER NOT NULL,
    MESSAGE_COUNT BIGINT NOT NULL,
    BIRTHDAY DATE,
    CONSTRAINT PK_USER PRIMARY KEY (USER_ID)
);

